{{/*
  layouts/partials/home/hero.html
  ─────────────────────────────────────────────────────────────────────────────
  Full-viewport hero with background image, dark overlay, animated heading,
  subtitle, CTA button, and scroll indicator.

  Params (page front matter or hugo.toml [params]):
    hero_image      — path in assets/, e.g. "images/hero.jpg"
    hero_heading    — primary heading (default: "Solutions Engineered")
    hero_subheading — subtitle line
    hero_cta_text   — CTA button label
    hero_cta_link   — CTA button URL
  ─────────────────────────────────────────────────────────────────────────────
*/}}

{{- $heading := .Param "hero_heading"    | default "Solutions Engineered" -}}
{{- $sub     := .Param "hero_subheading" | default "Structural Engineering — NY · NJ · CT" -}}
{{- $ctaText := .Param "hero_cta_text"   | default "Explore Services" -}}
{{- $ctaLink := .Param "hero_cta_link"   | default "/services/" -}}
{{- $imgPath := .Param "hero_image" -}}

<section class="hero" aria-label="Hero">

  {{/* Background image — processed by Hugo Pipes if present */}}
  {{- with $imgPath -}}
    {{- $src := resources.Get . -}}
    {{- if $src -}}
      {{- $sm := $src.Resize "800x webp"  -}}
      {{- $md := $src.Resize "1400x webp" -}}
      {{- $lg := $src.Resize "2000x webp" -}}
      <picture>
        <source srcset="{{ $lg.RelPermalink }}" media="(min-width: 1200px)">
        <source srcset="{{ $md.RelPermalink }}" media="(min-width: 768px)">
        <img class="hero__bg"
             src="{{ $sm.RelPermalink }}"
             alt=""
             role="presentation"
             loading="eager"
             decoding="async">
      </picture>
    {{- end -}}
  {{- end -}}

  <div class="hero__overlay" aria-hidden="true"></div>

  <div class="container">
    <div class="hero__content">
      <p class="hero__eyebrow reveal reveal--fade">{{ .Site.Title }}</p>
      <h1 class="hero__title reveal reveal--d1">{{ $heading }}</h1>
      <p class="hero__subtitle reveal reveal--d2">{{ $sub }}</p>
      <a href="{{ $ctaLink }}" class="hero__cta reveal reveal--d3">
        {{ $ctaText }}
        <svg class="hero__cta-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>
        </svg>
      </a>
    </div>
  </div>

  <div class="hero__scroll" aria-hidden="true">
    <span>Scroll</span>
    <div class="hero__scroll-line"></div>
  </div>

</section>
