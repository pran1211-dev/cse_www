{{/*
  layouts/services/list.html
  ---------------------------------------------------------------------------
  Services section list template. Video background hero + 4-column services
  grid from data/services_grid.yaml, styled to match the site theme.
  ---------------------------------------------------------------------------
*/}}
{{- define "main" -}}

<div class="page-hero page-hero--bg">
  <video class="page-hero__video" autoplay muted loop playsinline aria-hidden="true">
    <source src="{{ "videos/services-hero.mp4" | relURL }}" type="video/mp4">
  </video>
  <div class="page-hero__overlay" aria-hidden="true"></div>
  <div class="container">
    <h1 class="page-hero__title reveal">{{ .Title }}</h1>
    {{- with .Description -}}
      <p class="page-hero__description reveal reveal--d1">{{ . }}</p>
    {{- end -}}
  </div>
</div>

<div class="page-content">
  <div class="container">

    {{- with .Content -}}
      <div class="prose reveal" style="margin-bottom: var(--space-12);">
        {{ . }}
      </div>
    {{- end -}}

    {{/* Services grid from data/services_grid.yaml */}}
    {{- with .Site.Data.services_grid -}}
    <div class="services-grid">
      {{- range $i, $card := . -}}
      <div class="service-card reveal reveal--d{{ add $i 1 }}" {{- with $card.id }} id="{{ . }}"{{- end -}}>

        <svg class="service-card__icon"
             viewBox="0 0 24 24"
             fill="none"
             stroke="currentColor"
             stroke-width="1.5"
             stroke-linecap="round"
             stroke-linejoin="round"
             aria-hidden="true">
          {{- $card.icon_path | safeHTML -}}
        </svg>

        <h2 class="service-card__title">{{ $card.title }}</h2>

        <ul class="service-card__list" role="list">
          {{- range $card.items -}}
          <li>{{ . }}</li>
          {{- end -}}
        </ul>

      </div>
      {{- end -}}
    </div>
    {{- end -}}

  </div>
</div>

{{- end -}}
